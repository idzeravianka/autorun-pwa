<div class="dashboard">
  <div class="dashboard__section">
    <div class="dashboard__update-time">
      <span *ngIf="!!(updateTime$ | async)">Обновлено в: {{updateTime$ | async}}</span>
    </div>
    <div class="dashboard__sensor-data">
      <img class="dashboard__sensor-icon" src="assets/svg/voltage.svg" alt="Voltage">
      <span class="dashboard__sensor-label">{{(sensorsData$ | async)?.pin?.[pinStatuses.Voltage] || '--'}} V</span>
    </div>
    <div class="dashboard__sensor-data">
      <img class="dashboard__sensor-icon" src="assets/svg/timer.svg">
      <span class="dashboard__sensor-label">{{(sensorsData$ | async)?.time?.[timeStatuses.Timer] || '--.--'}}</span>
    </div>
    <div class="dashboard__sensor-data">
      <img class="dashboard__sensor-icon" src="assets/svg/counter.svg">
      <span class="dashboard__sensor-label">{{(sensorsData$ | async)?.time?.[timeStatuses.Count] || '--.--'}}</span>
    </div>
    <div class="dashboard__sensor-data">
      <img class="dashboard__sensor-icon" src="assets/svg/temperature.svg">
      <span class="dashboard__sensor-label">{{(sensorsData$ | async)?.temp?.[temperatureStatuses.Temp1] || '--'}} °</span>
      <span class="dashboard__sensor-prompt">Датчик №1</span>
    </div>
    <div class="dashboard__sensor-data">
      <img class="dashboard__sensor-icon" src="assets/svg/temperature.svg">
      <span class="dashboard__sensor-label">{{(sensorsData$ | async)?.temp?.[temperatureStatuses.Temp2] || '--'}} °</span>
      <span class="dashboard__sensor-prompt">Датчик №2</span>
    </div>
    <div class="dashboard__sensor-data">
      <img class="dashboard__sensor-icon" src="assets/svg/temperature.svg">
      <span class="dashboard__sensor-label">{{(sensorsData$ | async)?.temp?.[temperatureStatuses.Temp3] || '--'}} °</span>
      <span class="dashboard__sensor-prompt">Датчик №3</span>
    </div>
  </div>

  <div class="dashboard__section dashboard__control-buttons">
    <div class="dashboard__open-close-button-wrapper">
      <div class="open-lock-button">
        <az-hold-button
          [isLoading]="isFanOnExecuting"
          [disabled]="isFanOnExecuting || !(sensorsData$ | async)"
          [iconUrl]="'assets/svg/fan-on.svg'"
          [holdTime]="1200"
          (holdTimeEnd)="fanOn()">
        </az-hold-button>
      </div>
      <div class="close-lock-button">
        <az-hold-button
          [isLoading]="isFanOffExecuting"
          [disabled]="isFanOffExecuting || !(sensorsData$ | async)"
          [iconUrl]="'assets/svg/fan-off.svg'"
          [holdTime]="1200"
          (holdTimeEnd)="fanOff()">
        </az-hold-button>
      </div>
    </div>
    <div class="dashboard__start-stop-button-wrapper">
      <az-hold-button
        [class.stop-color]="(sensorsData$ | async)?.pin?.[pinStatuses.K2] === 1 && !isStartStopExecuting"
        [isLoading]="isStartStopExecuting"
        [disabled]="isStartStopExecuting || !(sensorsData$ | async)"
        [iconUrl]="'assets/svg/car.svg'"
        [holdTime]="1800"
        (holdTimeEnd)="startStopEngine()">
        <span class="dashboard__start-stop-title" *ngIf="!isStartStopExecuting">
          {{(sensorsData$ | async)?.pin?.[pinStatuses.K2] === 1 ? 'Стоп двигателя' : 'Запуск двигателя'}}
        </span>
      </az-hold-button>
    </div>
    <div class="dashboard__open-close-button-wrapper">
      <div class="open-lock-button">
        <az-hold-button
          [isLoading]="isOpenLockExecuting"
          [disabled]="isOpenLockExecuting || !(sensorsData$ | async)"
          [iconUrl]="'assets/svg/open-lock.svg'"
          [holdTime]="1200"
          (holdTimeEnd)="openLock()">
        </az-hold-button>
      </div>
      <div class="close-lock-button">
        <az-hold-button
          [isLoading]="isCloseLockExecuting"
          [disabled]="isCloseLockExecuting || !(sensorsData$ | async)"
          [iconUrl]="'assets/svg/close-lock.svg'"
          [holdTime]="1200"
          (holdTimeEnd)="closeLock()">
        </az-hold-button>
      </div>
    </div>
  </div>

  <div class="dashboard__section">
    <div class="dashboard__sensor-data">
      <img class="dashboard__sensor-icon" src="assets/svg/channel.svg">
      <span class="dashboard__sensor-label">{{(sensorsData$ | async)?.pin?.[pinStatuses.IN1] === 1 ? 'ON' : 'OFF'}}</span>
      <span class="dashboard__sensor-prompt">Канал IN1</span>
    </div>
    <div class="dashboard__sensor-data">
      <img class="dashboard__sensor-icon" src="assets/svg/channel.svg">
      <span class="dashboard__sensor-label">{{(sensorsData$ | async)?.pin?.[pinStatuses.IN2] === 1 ? 'ON' : 'OFF'}}</span>
      <span class="dashboard__sensor-prompt">Канал IN2</span>
    </div>
    <div class="dashboard__sensor-data">
      <img class="dashboard__sensor-icon" src="assets/svg/ignition.svg">
      <span class="dashboard__sensor-label">{{(sensorsData$ | async)?.pin?.[pinStatuses.K2] === 1 ? 'ON' : 'OFF'}}</span>
      <span class="dashboard__sensor-prompt">Зажигание</span>
    </div>

    <div class="dashboard__sensor-data">
      <img class="dashboard__sensor-icon" src="assets/svg/relay.svg">
      <span class="dashboard__sensor-label">{{(sensorsData$ | async)?.pin?.[pinStatuses.K1] === 1 ? 'ON' : 'OFF'}}</span>
      <span class="dashboard__sensor-prompt">Реле K1</span>
    </div>
    <div class="dashboard__sensor-data">
      <img class="dashboard__sensor-icon" src="assets/svg/relay.svg">
      <span class="dashboard__sensor-label">{{(sensorsData$ | async)?.pin?.[pinStatuses.K4] === 1 ? 'ON' : 'OFF'}}</span>
      <span class="dashboard__sensor-prompt">Реле K4</span>
    </div>
    <div class="dashboard__sensor-data">
      <img class="dashboard__sensor-icon" src="assets/svg/relay.svg">
      <span class="dashboard__sensor-label">{{(sensorsData$ | async)?.pin?.[pinStatuses.K5] === 1 ? 'ON' : 'OFF'}}</span>
      <span class="dashboard__sensor-prompt">Реле K5</span>
    </div>
  </div>
</div>
